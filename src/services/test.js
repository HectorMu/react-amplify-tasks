import { API } from "aws-amplify";

const LAST_USER = window.localStorage.getItem(
  "CognitoIdentityServiceProvider.73d36j2lgilgr82vrqnvjf38lu.LastAuthUser"
);
const JWT = window.localStorage.getItem(
  `CognitoIdentityServiceProvider.66k7aua0jc5laat47gn4g6bgbu.${LAST_USER}.idToken`
);

const requestConfig = {
  headers: {
    Authorization:
      "eyJraWQiOiJIbUs4Y2haRUV2NDk0Z1luSm04QjV1M2hvZm1NbkJwMUg3VloyNWxvYWdnPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIxZGM4NzBiYy05YmY4LTQwMDctOTQ0MC01MjRhMDZkZGM4ZTciLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfSWJtM3VEcDQwIiwiY29nbml0bzp1c2VybmFtZSI6ImhlY3Rvci5tdW5veiIsIm9yaWdpbl9qdGkiOiJkZGU2ZmQ4NC0xOTlhLTQ0NzQtYTU1NC05OWE0ZDYwMDk0MDYiLCJhdWQiOiI2Nms3YXVhMGpjNWxhYXQ0N2duNGc2YmdidSIsImV2ZW50X2lkIjoiOTM2YmQ2NmQtODEyOS00MTE1LTkyMjUtMjkwMmVmZGY0NWFlIiwidG9rZW5fdXNlIjoiaWQiLCJhdXRoX3RpbWUiOjE2NTkxMDUzOTIsImV4cCI6MTY1OTEwODk5MiwiaWF0IjoxNjU5MTA1MzkyLCJqdGkiOiI4YjJkOTgzZS02NDEzLTQxODctYjFhYi05MWVmY2RjYjMwOTciLCJlbWFpbCI6InNreXNwYXJ0YW5ibGFja0BnbWFpbC5jb20ifQ.KYNQ3uZXLjyCjaR-bXuwJKeHAjNSaa5WHx8NDeA048y7iYepN8Lb_FqE0AVhtgD8JuCA-kwCA1UB7gVMIM_T3AUwIcdEnGevONllnL-BJf4ejV7fnOWLpXESQ31WxTbdNK6fBf4Bcab1x4GJVuQgx1n2BKKv2q9Yvejjq_DQ4TUHHRACb8Ar4uLA3nZrH_Ku1xbTbbViPcFwrrL2CUvD_xGlF8N9-6Q-bKa67j8E_1-vEuyLZbJ7ApMm89M5DeDdzldLeu4JLtEAy30cLFHkvfWIyNr56ldXzazIEPP2-2W-wagNvLNPQNVI3yBf0UBYlrpZM-_L7TcN_Sk9kh-a6Q",
  },
};

export const getGreet = async () =>
  await API.get("test", "/hello", requestConfig);
